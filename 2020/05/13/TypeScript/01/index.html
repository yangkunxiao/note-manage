<!DOCTYPE html>


<html lang="zh-CN" >


<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="javascript typescript php node html html5 css linux vue react ç®—æ³• æ•°æ®ç»“æ„" />
   
  <meta name="description" content="å‰ç«¯å·¥ç¨‹å¸ˆ" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    TypeScript(ä¸€)ï¼šåŸºç¡€ |  Walter
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/dist/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

<link rel="alternate" href="/atom.xml" title="Walter" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

</html>

<body>
  <div id="app">
    <main class="content on">
      <section class="outer">
  <article id="post-TypeScript/01" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  TypeScript(ä¸€)ï¼šåŸºç¡€
</h1>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/13/TypeScript/01/" class="article-date">
  <time datetime="2020-05-13T02:30:00.000Z" itemprop="datePublished">2020-05-13</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/TypeScript/">TypeScript</a>
  </div>

      
      
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> å­—æ•°ç»Ÿè®¡:</span>
            <span class="post-count">3.7k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> é˜…è¯»æ—¶é•¿â‰ˆ</span>
            <span class="post-count">17 åˆ†é’Ÿ</span>
        </span>
    </span>
</div>

      
    </div>
    

    
    
    <div class="tocbot"></div>





    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <blockquote>
<p>base: <a href="https://tasaid.com/Blog/20171011231943.html" target="_blank" rel="noopener">https://tasaid.com/Blog/20171011231943.html</a></p>
</blockquote>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ€è¿‘éšç€é¡¹ç›®çš„ä¸æ–­è¿­ä»£ï¼Œå›¢é˜Ÿåä½œä¹‹é—´å‡ºç°äº†ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼šå…¨å±€çš„æ•°æ®å±æ€§å’Œæ•°æ®ç±»å‹æ€»æ˜¯è¢«ç¯¡æ”¹ã€‚è€Œä¸”ï¼Œä¸€äº›å…¨å±€çš„å…¬å…±æ–¹æ³•åœ¨ä½¿ç”¨æ—¶ï¼Œæ€»éœ€è¦çœ‹ç€APIæ–‡æ¡£æ‰èƒ½çŸ¥é“å…¶å®šä¹‰ï¼šéœ€è¦ä¼ å…¥ä»€ä¹ˆå‚æ•°ã€è¿”å›ä»€ä¹ˆå‚æ•°ã€‚<br>è€Œä¸”ï¼Œä¸€æ—¦å…¶ä»–åŒå­¦ä¿®æ”¹äº†å…¨å±€æ–¹æ³•è€Œæ²¡æœ‰æ¥å¾—åŠæ›´æ–°APIæ–‡æ¡£ï¼Œé€šçŸ¥åˆ°æ¯ä¸€ä½åŒå­¦ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆå…¶ä»–è°ƒç”¨çš„åœ°æ–¹å‡ºç°ä¸å¯é¿å…çš„bugã€‚<br>åœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>æ¥å£è¯¥å¦‚ä½•æè¿°è‡ªèº«çš„å‚æ•°åŠè¿”å›å€¼</li>
<li>æ•°æ®æ ¼å¼è¯¥å¦‚ä½•æè¿°</li>
<li>åœ¨è¿­ä»£ä¸­ï¼Œæ¥å£å‚æ•°åŠè¿”å›å€¼å¯¹åº”çš„APIæ–‡æ¡£è¯¥å¦‚ä½•åŠæ—¶æ›´æ–°ã€‚</li>
</ul>
<p>ç´§è·Ÿä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å°±å¥½å‘ç°åœ¨JavaScriptä¸­ç¼ºå°‘äº†ä¸€æ ·å¾ˆé‡è¦çš„ä¸œè¥¿ï¼šé™æ€ç±»å‹ã€‚<br>å› ä¸ºæœ‰é™æ€ç±»å‹æˆ‘ä»¬æ‰çŸ¥é“æ¥å£éœ€è¦ä»€ä¹ˆå‚æ•°ã€è¿”å›ä»€ä¹ˆå€¼ã€è¿”å›å€¼æ˜¯ä»€ä¹ˆç±»å‹ã€å‚æ•°æ˜¯å¦å¯ç©ºç­‰ç­‰ã€‚<br>åœ¨vueä¸­ä½¿ç”¨çš„æ˜¯ ** Flow ** ã€‚</p>
<h3 id="Flow"><a href="#Flow" class="headerlink" title="Flow"></a>Flow</h3><blockquote>
<p>flow is a static type checker for javascript</p>
</blockquote>
<p>flowæ˜¯facebookå…¬å¸ƒçš„JavaScripté™æ€ç±»å‹æ£€æŸ¥å™¨ï¼Œå®ƒå¯ä»¥æ£€æŸ¥JavaScriptä¸­çš„ä¸€äº›bugï¼Œå¦‚ï¼šæ•°æ®ç±»å‹éšå¼è½¬æ¢ã€æ•°æ®ç±»å‹æ£€æŸ¥ç­‰ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// @flow</span>
<span class="token keyword">let</span> a<span class="token punctuation">:</span>number <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>b<span class="token punctuation">:</span>tring<span class="token punctuation">)</span><span class="token punctuation">:</span>boolean<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ä½¿ç”¨babelè½¬æ¢ä¹‹åï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h3><p>ç›¸æ¯”ä¸ ** Flow ** ï¼ŒTypeScriptæ˜¯ä¸€é—¨è¯­è¨€ï¼Œå®ƒæ˜¯JavaScriptçš„è¶…é›†ã€‚è€Œä¸”ï¼Œ ** Flow ** çš„ä½¿ç”¨æ˜¯å¯¹JavaScriptçš„ä¸€ç§ä¾µå…¥å¼ä¿®æ”¹ï¼Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯ä¸€ç§æ— ä¾µå…¥å¼çš„ã€‚<br>TypeScript çš„å®šä½æ˜¯åšé™æ€ç±»å‹è¯­è¨€ï¼Œè€Œ Flow çš„å®šä½æ˜¯ç±»å‹æ£€æŸ¥å™¨ã€‚</p>
<p>é‚£ä¹ˆä»€ä¹ˆæ˜¯TypeScripeå‘¢ï¼Ÿ<br>TypeScript ç®€ç§° TSã€‚TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œå°±æ˜¯åœ¨ JavaScript ä¸Šåšäº†ä¸€å±‚å°è£…ï¼Œå°è£…å‡º TypeScript çš„ç‰¹æ€§ï¼Œå½“ç„¶æœ€ç»ˆä»£ç å¯ä»¥ç¼–è¯‘ä¸º JavaScriptã€‚<br>éšç€é¡¹ç›®å·¥ç¨‹è¶Šæ¥è¶Šå¤§ï¼Œè¶Šæ¥è¶Šå¤šçš„å‰ç«¯æ„è¯†åˆ°é™æ€æ•°æ®ç±»å‹çš„é‡è¦æ€§ï¼Œéšç€ TypeScript çš„é€æ¸å®Œå–„ï¼Œæ”¯æŒè€…è¶Šæ¥è¶Šå¤šï¼Œé™æ€æ•°æ®ç±»å‹çš„éœ€æ±‚è¶Šæ¥è¶Šå¼ºã€‚<br>JavaScript è¡Œè‡³ä»Šæ—¥ï¼Œçµæ´»ï¼ŒåŠ¨æ€è®©å®ƒæ´»è·ƒåœ¨ç¼–ç¨‹è¯­è¨€ç•Œä¸€çº¿ã€‚è€Œçµæ´»ï¼ŒåŠ¨æ€ä½¿å¾—å®ƒåˆååˆ†ç¥ç§˜ï¼Œåªæœ‰è¿è¡Œæ‰èƒ½å¾—åˆ°ç­”æ¡ˆã€‚ç±»å‹çš„è¡¥å……å¡«å……äº† JavaScript çš„ç¼ºç‚¹ï¼Œä» TypeScript ç¼–è¯‘åˆ° JavaScriptï¼Œå¤šäº†é™æ€ç±»å‹æ£€æŸ¥ï¼Œè€Œåˆä¿ç•™äº† JavaScript çš„çµæ´»åŠ¨æ€ã€‚</p>
<blockquote>
<p>ç®€å•æ¥è¯´ï¼šåŠ¨æ€ä»£ç ä¸€æ—¶çˆ½ï¼Œé‡æ„å…¨å®¶ç«è‘¬åœºã€‚</p>
</blockquote>
<h4 id="é™æ€ç±»å‹"><a href="#é™æ€ç±»å‹" class="headerlink" title="é™æ€ç±»å‹"></a>é™æ€ç±»å‹</h4><p>è¿™é‡Œç»™å‡ºä¸€ä¸‹é™æ€ç±»å‹æ£€æŸ¥å’Œç±»å‹æ¨å¯¼çš„ä¾‹å­ï¼š</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">let</span> isDone<span class="token punctuation">:</span> <span class="token keyword">boolean</span> <span class="token operator">=</span> <span class="token keyword">true</span>
<span class="token keyword">let</span> myName<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">'kaka'</span>
<span class="token keyword">let</span> decLiteral<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">let</span> hexLiteral<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token operator">=</span> <span class="token number">0x1000</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ²¡æœ‰è¿”å›å€¼!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//å£°æ˜ä¸€ä¸ªvoidç±»å‹ åªèƒ½å°†å®ƒåªä¸ºundefined null</span>
<span class="token keyword">const</span> unusable<span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> undefined
<span class="token comment" spellcheck="true">//æ²¡æœ‰ç±»å‹å£°æ˜ tsä¼šè¿›è¡Œç±»å‹æ¨å¯¼</span>
<span class="token keyword">const</span> myAge <span class="token operator">=</span> <span class="token number">25</span>
<span class="token comment" spellcheck="true">//ç­‰ä»·äº</span>
<span class="token keyword">const</span> myAge2<span class="token punctuation">:</span> <span class="token keyword">number</span> <span class="token operator">=</span> <span class="token number">25</span>

<span class="token comment" spellcheck="true">//è”åˆç±»å‹</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span>somethine<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">|</span> object<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> somethine<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//interface å®šä¹‰æ¥å£</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token keyword">string</span>
    age<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span>
    readonly idCard<span class="token punctuation">:</span> <span class="token keyword">string</span>
    <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">any</span> <span class="token comment" spellcheck="true">//ä»»æ„å±æ€§</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> kaka<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'kaka'</span><span class="token punctuation">,</span>
    idCard<span class="token punctuation">:</span> <span class="token string">'1234565'</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
    firstName<span class="token punctuation">:</span> <span class="token string">'yang'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//æšä¸¾</span>
<span class="token keyword">enum</span> Days <span class="token punctuation">{</span>
    Sun<span class="token punctuation">,</span>
    Mon<span class="token punctuation">,</span>
    Tue<span class="token punctuation">,</span>
    Wed<span class="token punctuation">,</span>
    Thu<span class="token punctuation">,</span>
    Fri<span class="token punctuation">,</span>
    Sat<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">enum</span> Days2 <span class="token punctuation">{</span>
    Sun <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    Mon <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    Tue<span class="token punctuation">,</span>
    Wed<span class="token punctuation">,</span>
    Thu<span class="token punctuation">,</span>
    Fri<span class="token punctuation">,</span>
    Sat<span class="token punctuation">,</span> 
<span class="token punctuation">}</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days2<span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days2<span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days2<span class="token punctuation">[</span><span class="token string">'Tue'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">let</span> array <span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> array2 <span class="token punctuation">:</span><span class="token keyword">Array</span><span class="token operator">&lt;</span><span class="token keyword">number</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//ä½¿ç”¨æ¥å£</span>
<span class="token keyword">interface</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span><span class="token keyword">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> student<span class="token punctuation">:</span><span class="token keyword">Array</span><span class="token operator">&lt;</span>Student<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span><span class="token string">'kaka'</span><span class="token punctuation">,</span>
        age<span class="token punctuation">:</span><span class="token number">0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment" spellcheck="true">//å¯ç´¢å¼•ç±»å‹</span>
<span class="token keyword">interface</span> <span class="token class-name">Tree</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token keyword">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> tree<span class="token punctuation">:</span>Tree<span class="token punctuation">;</span>

tree <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token string">'2'</span><span class="token punctuation">]</span></code></pre>
<h4 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h4><p>public ä¿®é¥°çš„æ–¹æ³•æˆ–å±æ€§æ˜¯å…¬æœ‰çš„  å¯ä»¥è¢«ä»»æ„è®¿é—®  ç±»çš„å±æ€§æˆ–æ–¹æ³•é»˜è®¤ä¸ºpublic<br>private åªèƒ½è¢«çˆ¶ç±»è‡ªå·±è®¿é—® ä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»å¤–éƒ¨ä½¿ç”¨<br>protected åªèƒ½è¢«çˆ¶ç±»å’Œå­ç±»è®¿é—®<br>static åªèƒ½ä½¿ç”¨ç±»åè¿›è¡Œè®¿é—®</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">//æŠ½è±¡ç±» å­ç±»å¿…é¡»å®ç°æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•</span>
abstract <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">:</span><span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">'kaka'</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> weight<span class="token punctuation">:</span><span class="token keyword">number</span> <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> sex<span class="token punctuation">:</span><span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">'ç”·'</span><span class="token punctuation">;</span>

    abstract <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>

    <span class="token function">move</span><span class="token punctuation">(</span>distance<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'å·²ç»å‰è¿›äº†ï¼š'</span> <span class="token operator">+</span> distance <span class="token operator">+</span> <span class="token string">'æ­¥'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Boy</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>weight<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// this.weight = weight</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex
    <span class="token punctuation">}</span>

    <span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'makeSound'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">let</span> tom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boy</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

tom<span class="token punctuation">.</span><span class="token function">makeSound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

tom<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>



abstract <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">eat</span><span class="token punctuation">(</span>food<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eat:'</span> <span class="token operator">+</span> food<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    abstract <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>


<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>

    <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Dog sleep'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token function">pri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token function">pro</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    readonly legs<span class="token punctuation">:</span><span class="token keyword">number</span> <span class="token operator">=</span> <span class="token number">4</span>

    <span class="token keyword">static</span> food<span class="token punctuation">:</span><span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">'bones'</span>

<span class="token punctuation">}</span>

<span class="token keyword">let</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'wangcai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// dog.pri()</span>

<span class="token comment" spellcheck="true">// dog.pro()</span>

<span class="token comment" spellcheck="true">// console.log(dog.food)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Dog<span class="token punctuation">.</span>food<span class="token punctuation">)</span>

dog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">'ğŸŒ'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">WorkFlow</span> <span class="token punctuation">{</span>
    <span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸŒè°ƒç”¨ç±»step1'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>

    <span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸè°ƒç”¨ç±»step2'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyFlow</span> <span class="token keyword">extends</span> <span class="token class-name">WorkFlow</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myFlow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyFlow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

myFlow<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> </code></pre>
<h4 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h4><pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">IPriceData</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">/** id */</span>
    id<span class="token punctuation">:</span> <span class="token keyword">number</span>
    <span class="token comment" spellcheck="true">/** å¸‚åœºä»·æ ¼ */</span>
    m<span class="token punctuation">:</span> <span class="token keyword">string</span>
    <span class="token comment" spellcheck="true">/** æŠ˜æ‰£ä»· */</span>
    op<span class="token punctuation">:</span> <span class="token keyword">string</span>
<span class="token punctuation">}</span>


type IPriceDataArray <span class="token operator">=</span> IPriceData<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment" spellcheck="true">// Promiseçš„æ³›å‹å‚æ•°ä½¿ç”¨äº†IPriceDataArrayç±»å‹ï¼Œthené‡Œé¢è¿”å›çš„æ•°æ®å°±æ˜¯IPriceDataArrayç±»å‹</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span>IPriceDataArray<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// fetch('https://xxxxxxx/prices/pgets?ids=P_100012&amp;area=&amp;source=', data => {</span>
            <span class="token comment" spellcheck="true">// console.log(data)</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    id<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
                    m<span class="token punctuation">:</span><span class="token string">'kaka'</span><span class="token punctuation">,</span>
                    op<span class="token punctuation">:</span><span class="token string">'kaka'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true">// })</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>data <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment" spellcheck="true">//é«˜çº§å®ç°</span>

<span class="token keyword">interface</span> <span class="token class-name">clockconstructor</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token punctuation">(</span>hour<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">,</span>minute<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Clockinstance
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Clockinstance</span> <span class="token punctuation">{</span>
    <span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> createClock <span class="token punctuation">(</span>
    ctor<span class="token punctuation">:</span> clockconstructor<span class="token punctuation">,</span>
    hour<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span>
    minute<span class="token punctuation">:</span> <span class="token keyword">number</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Clockinstance<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ctor</span><span class="token punctuation">(</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">DigitalClock</span> <span class="token keyword">implements</span> <span class="token class-name">Clockinstance</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>h<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">,</span>m<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"beep beep"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AnalogClock</span> <span class="token keyword">implements</span> <span class="token class-name">Clockinstance</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>h<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">,</span> m<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"tick tock"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> digitalClock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DigitalClock</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> analogClock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnalogClock</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

digitalClock<span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>æ¥å£å’ŒTypeï¼š</p>
<ul>
<li>ç›¸åŒç‚¹<ul>
<li>éƒ½å¯æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°</li>
<li>éƒ½å¯ä»¥æ‰©å±•</li>
</ul>
</li>
<li>ä¸åŒç‚¹<ul>
<li>interface<ul>
<li>interface å¯ä»¥è¿›è¡Œå£°æ˜åˆå¹¶ï¼Œè€Œtypeä¸è¡Œ</li>
</ul>
</li>
<li>type<ul>
<li>type å¯<em>ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åã€è”åˆç±»å‹ã€å…ƒç»„ç­‰</em></li>
<li><em>type å¯ä»¥é€šè¿‡ typeof è·å–å®ä¾‹ç±»å‹è¿›è¡Œèµ‹å€¼</em></li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class=" language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">//1</span>
<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span><span class="token keyword">number</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// type User = {</span>
<span class="token comment" spellcheck="true">//     name:string,</span>
<span class="token comment" spellcheck="true">//     age:number</span>
<span class="token comment" spellcheck="true">// }</span>

<span class="token comment" spellcheck="true">// interface SetUser {</span>
<span class="token comment" spellcheck="true">//     (name:string,age:number): void</span>
<span class="token comment" spellcheck="true">// }</span>

type SetUser <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> fn<span class="token punctuation">:</span>SetUser <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">'kaka'</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true">//2</span>
<span class="token keyword">interface</span> <span class="token class-name">Sex</span> <span class="token punctuation">{</span>
    sex<span class="token punctuation">:</span><span class="token keyword">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">BSex</span> <span class="token keyword">extends</span> <span class="token class-name">Sex</span> <span class="token punctuation">{</span>
    age<span class="token punctuation">:</span><span class="token keyword">number</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// type Sex = {</span>
<span class="token comment" spellcheck="true">//     sex:string</span>
<span class="token comment" spellcheck="true">// }</span>

<span class="token comment" spellcheck="true">// type BSex = Sex &amp; {</span>
<span class="token comment" spellcheck="true">//     age:number</span>
<span class="token comment" spellcheck="true">// }</span>


<span class="token comment" spellcheck="true">//å¤æ‚çš„è½¬åŒ–</span>
<span class="token comment" spellcheck="true">// type FName = {</span>
<span class="token comment" spellcheck="true">//   name: string;</span>
<span class="token comment" spellcheck="true">// };</span>
<span class="token comment" spellcheck="true">// interface FUser extends FName {</span>
<span class="token comment" spellcheck="true">//   age: number;</span>
<span class="token comment" spellcheck="true">// }</span>
<span class="token keyword">interface</span> <span class="token class-name">FName</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
type FUser <span class="token operator">=</span> FName <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  age<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment" spellcheck="true">//ä¸åŒç‚¹</span>

<span class="token comment" spellcheck="true">//interface èƒ½å¤Ÿå£°æ˜åˆå¹¶</span>
<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token keyword">string</span>
  age<span class="token punctuation">:</span> <span class="token keyword">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  sex<span class="token punctuation">:</span> <span class="token keyword">string</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/*
User æ¥å£ä¸º {
  name: string
  age: number
  sex: string 
}
*/</span>

<span class="token comment" spellcheck="true">//type å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç­‰ç±»å‹</span>

type UName <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token keyword">string</span>
<span class="token punctuation">}</span>

type USex <span class="token operator">=</span> <span class="token punctuation">{</span>
    sex<span class="token punctuation">:</span><span class="token keyword">string</span>
<span class="token punctuation">}</span>

type Boy <span class="token operator">=</span> UName <span class="token operator">|</span> USex<span class="token punctuation">;</span>

<span class="token keyword">const</span> boy<span class="token punctuation">:</span> Boy <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token string">'l'</span><span class="token punctuation">,</span>
    sex<span class="token punctuation">:</span><span class="token string">'girl'</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token function">wong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
    <span class="token function">miao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
type Pert <span class="token operator">=</span> Dog <span class="token operator">|</span> Cat<span class="token punctuation">;</span>

type PertList <span class="token operator">=</span> <span class="token punctuation">[</span>Dog<span class="token punctuation">,</span>Cat<span class="token punctuation">]</span>


</code></pre>
<h4 id="æ–­è¨€"><a href="#æ–­è¨€" class="headerlink" title="æ–­è¨€"></a>æ–­è¨€</h4><pre class=" language-typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>something<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">|</span> <span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œå°† something æ–­è¨€æˆ string</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span>something<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span>something<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>something<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//ä½¿ç”¨as è¿›è¡Œæ¨æ–­</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>something<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">|</span> <span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>something as <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>something as <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>something<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">//å¦‚æœè”åˆå±æ€§å¤ªå¤æ‚ å¯ä»¥ç»™ç±»å‹èµ·ä¸ªåˆ«å</span>
<span class="token comment" spellcheck="true">// ä½¿ç”¨ type åˆ›å»ºç±»å‹åˆ«å,ç±»å‹åˆ«åå¸¸ç”¨äºè”åˆç±»å‹</span>

type Name <span class="token operator">=</span> <span class="token keyword">string</span>
type NameResolver <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">string</span>
type NameOrAge <span class="token operator">=</span> Name <span class="token operator">|</span> NameResolver

<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> NameOrAge<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre>
<h4 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h4><p><em>æ³›å‹å°±æ˜¯è§£å†³ç±»ã€æ¥å£ã€æ–¹æ³•çš„å¤ç”¨æ€§ã€ä»¥åŠå¯¹ä¸ç¡®å®šæ•°æ®ç±»å‹çš„æ”¯æŒ</em></p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">//æ³›å‹çº¦æŸ</span>
<span class="token keyword">interface</span> <span class="token class-name">LengthWise</span> <span class="token punctuation">{</span>
    length<span class="token punctuation">:</span><span class="token keyword">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> getLength<span class="token operator">&lt;</span>T <span class="token keyword">extends</span> <span class="token class-name">LengthWise</span><span class="token operator">></span> <span class="token punctuation">(</span>arg<span class="token punctuation">:</span>T<span class="token punctuation">)</span><span class="token punctuation">:</span>T<span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"è·å–æ³›å‹Tï¼š"</span><span class="token punctuation">,</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token keyword">return</span> arg
<span class="token punctuation">}</span>

<span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    length<span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span><span class="token string">'k'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> identity<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span>arg<span class="token punctuation">:</span>T<span class="token punctuation">)</span><span class="token punctuation">:</span> T<span class="token punctuation">{</span>
    <span class="token keyword">return</span> arg
<span class="token punctuation">}</span>

<span class="token keyword">let</span> func <span class="token operator">=</span> identity<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true">//æ³›å‹ç±»</span>

<span class="token keyword">class</span> <span class="token class-name">Girl</span><span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> x<span class="token punctuation">:</span>T<span class="token punctuation">;</span>
    <span class="token keyword">public</span> y<span class="token punctuation">:</span>T<span class="token punctuation">;</span>
    addSum<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">:</span>T<span class="token punctuation">,</span>y<span class="token punctuation">:</span>T<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> T<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// constructor(x,y){</span>
    <span class="token comment" spellcheck="true">//     this.x = x;</span>
    <span class="token comment" spellcheck="true">//     this.y = y</span>
    <span class="token comment" spellcheck="true">// }</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> girl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Girl</span><span class="token operator">&lt;</span><span class="token keyword">number</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

girl<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
girl<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>girl<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>girl<span class="token punctuation">.</span>y<span class="token punctuation">)</span>

girl<span class="token punctuation">.</span>addSum <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">,</span>y<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>


<span class="token comment" spellcheck="true">//æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°</span>
<span class="token keyword">function</span> <span class="token function">getProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span>T<span class="token punctuation">,</span>key<span class="token punctuation">:</span>K<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">getProperty</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// okay</span>
<span class="token function">getProperty</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">"m"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: Argument of type 'm' isn't assignable to 'a' | 'b' | 'c' | 'd'.</span>


<span class="token comment" spellcheck="true">// å‡½æ•°é‡è½½</span>
<span class="token keyword">function</span> <span class="token function">getString</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value
<span class="token punctuation">}</span>

<span class="token keyword">function</span> getData<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span>value<span class="token punctuation">:</span>T<span class="token punctuation">)</span><span class="token punctuation">:</span> T <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value
<span class="token punctuation">}</span>


getData<span class="token operator">&lt;</span><span class="token keyword">number</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
getData<span class="token operator">&lt;</span><span class="token keyword">string</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true">//æ³›å‹æ¥å£</span>

<span class="token keyword">interface</span> <span class="token class-name">Teacher</span><span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>name<span class="token punctuation">:</span>T<span class="token punctuation">)</span> <span class="token punctuation">:</span> T
<span class="token punctuation">}</span>

<span class="token keyword">let</span> MrsMa<span class="token punctuation">:</span>Teacher<span class="token operator">&lt;</span><span class="token keyword">number</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> x
<span class="token punctuation">}</span>

<span class="token function">MrsMa</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>


<span class="token keyword">interface</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span>name<span class="token punctuation">:</span>T<span class="token punctuation">)</span> <span class="token punctuation">:</span> T
<span class="token punctuation">}</span>
<span class="token keyword">let</span> MrsMa<span class="token punctuation">:</span>Teacher <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span>value<span class="token punctuation">:</span>T<span class="token punctuation">)</span><span class="token punctuation">:</span>T <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value
<span class="token punctuation">}</span>

MrsMa<span class="token operator">&lt;</span><span class="token keyword">number</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span></code></pre>
<h4 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h4><p>é¡¾åæ€ä¹‰ï¼Œâ€è£…é¥°å™¨â€ (ä¹Ÿå« â€œæ³¨è§£â€)å°±æ˜¯å¯¹ä¸€ä¸ª ç±»/æ–¹æ³•/å±æ€§/å‚æ•° çš„è£…é¥°ã€‚<br>å®ƒæ˜¯å¯¹è¿™ä¸€ç³»åˆ—ä»£ç çš„å¢å¼ºï¼Œå¹¶ä¸”é€šè¿‡è‡ªèº«æè¿°äº†è¢«è£…é¥°çš„ä»£ç å¯èƒ½å­˜åœ¨çš„è¡Œä¸ºæ”¹å˜ã€‚<br>ç®€å•æ¥è¯´ï¼Œè£…é¥°å™¨å°±æ˜¯å¯¹ä»£ç çš„æè¿°</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">/**
 * é¡¾åæ€ä¹‰ï¼Œ"è£…é¥°å™¨" (ä¹Ÿå« "æ³¨è§£")å°±æ˜¯å¯¹ä¸€ä¸ª ç±»/æ–¹æ³•/å±æ€§/å‚æ•° çš„è£…é¥°ã€‚
 * å®ƒæ˜¯å¯¹è¿™ä¸€ç³»åˆ—ä»£ç çš„å¢å¼ºï¼Œå¹¶ä¸”é€šè¿‡è‡ªèº«æè¿°äº†è¢«è£…é¥°çš„ä»£ç å¯èƒ½å­˜åœ¨çš„è¡Œä¸ºæ”¹å˜ã€‚
 * ç®€å•æ¥è¯´ï¼Œè£…é¥°å™¨å°±æ˜¯å¯¹ä»£ç çš„æè¿°
 *
 */</span>
<span class="token keyword">import</span> <span class="token string">'reflect-metadata'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> validate <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
        target<span class="token punctuation">:</span> <span class="token keyword">any</span><span class="token punctuation">,</span>
        targetKey<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span>
        descriptor<span class="token punctuation">:</span> PropertyDescriptor
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> targetKey<span class="token punctuation">,</span> descriptor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//ä¿å­˜åŸæ¥çš„æ–¹æ³•</span>
        <span class="token keyword">let</span> method <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//é‡å†™åŸæœ‰çš„æ–¹æ³•</span>
        descriptor<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>newValue<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// æ£€æŸ¥æ˜¯å¦æ˜¯ç©ºå­—ç¬¦ä¸²</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'name is invalid'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// å¦åˆ™è°ƒç”¨åŸæ¥çš„æ–¹æ³•</span>
                method<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token keyword">string</span>
    id<span class="token punctuation">:</span> <span class="token keyword">number</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// è°ƒç”¨è£…é¥°å™¨</span>
    @<span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">changeName</span><span class="token punctuation">(</span>newName<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> newName
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'kaka'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>

user<span class="token punctuation">.</span><span class="token function">changeName</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">//ç±»è£…é¥°å™¨ é‡å†™ç±»çš„æ„é€ å‡½æ•°</span>

<span class="token keyword">const</span> A  <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">constructor</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">constructor</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> <span class="token keyword">constructor</span> <span class="token punctuation">{</span>
            name <span class="token operator">=</span> <span class="token string">'hudie'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
@<span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token string">'kaka'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


<span class="token comment" spellcheck="true">//æ–¹æ³•è£…é¥°å™¨</span>
<span class="token comment" spellcheck="true">/**
 * target:å¯¹äºç±»çš„é™æ€æˆå‘˜ï¼ŒæŒ‡çš„æ˜¯ç±»çš„æ„é€ å‡½æ•°ã€‚å¯¹äºç±»çš„å®ä¾‹æˆå‘˜ï¼ŒæŒ‡çš„æ˜¯ç±»çš„åŸå‹å¯¹è±¡
 * targetKeyï¼šæˆå‘˜çš„åç§°
 * descriptorï¼šæˆå‘˜çš„å±æ€§æè¿°ç¬¦ã€‚
 *  {value: any, writable: boolean, enumerable: boolean, configurable: boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>target<span class="token punctuation">:</span><span class="token keyword">any</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>descriptor<span class="token punctuation">:</span>PropertyDescriptor<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>descriptor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    @<span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>

    @<span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">static</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token string">'kaka'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

D<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true">//è®¿é—®å™¨ä¿®é¥°ç¬¦  åŒæ–¹æ³•ä¿®é¥°å™¨ åªæ˜¯ç”¨äºè®¿é—®å™¨ä¸Š</span>
<span class="token comment" spellcheck="true">//ä¸åŒç‚¹å°±æ˜¯ä¿®é¥°ç¬¦ä½¿ç”¨çš„æ˜¯ è®¿é—®å™¨ä¿®é¥°ç¬¦ </span>
<span class="token comment" spellcheck="true">//{get: function, set: function, enumerable: boolean, configurable: boolean}</span>
<span class="token keyword">function</span> <span class="token function">E</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token punctuation">:</span><span class="token keyword">any</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>descriptor<span class="token punctuation">:</span>PropertyDescriptor<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>descriptor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">F</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> _name<span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">'kaka'</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// è£…é¥°åœ¨è®¿é—®å™¨ä¸Š</span>
    @<span class="token function">E</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">get</span> name <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


<span class="token comment" spellcheck="true">/**
 * å±æ€§ä¿®é¥°å™¨
 * åœ¨è¿è¡Œæ—¶ä¼šè¢«å½“ä½œå‡½æ•°ä½¿ç”¨ ä¼ å…¥ä¸¤ä¸ªå‚æ•°
 *  target: å¯¹äºé™æ€æˆå‘˜æ¥è¯´ æ˜¯ç±»çš„æ„é€ å‡½æ•°  å¯¹äºå®ä¾‹æˆå‘˜æ¥è¯´ æ˜¯ç±»çš„åŸå‹å¯¹è±¡
 *  targetKey: æˆå‘˜åç§°
*/</span>

<span class="token keyword">function</span> <span class="token function">G</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token punctuation">:</span><span class="token keyword">any</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">H</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//å®ä¾‹æˆå‘˜ --> ç±»çš„åŸå‹å¯¹è±¡</span>
    @<span class="token function">G</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//é™æ€å±æ€§ --> ç±»çš„æ„é€ å‡½æ•°</span>
    @<span class="token function">G</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">static</span> money<span class="token punctuation">:</span><span class="token keyword">number</span> <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">H</span><span class="token punctuation">(</span><span class="token string">'kaka'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


<span class="token comment" spellcheck="true">/**
 * å‚æ•°ä¿®é¥°å™¨
 * å‚æ•°è£…é¥°å™¨è¡¨è¾¾å¼ä¼šåœ¨è¿è¡Œæ—¶å½“ä½œå‡½æ•°è¢«è°ƒç”¨ï¼Œä¼ å…¥ä¸‹åˆ— 3ä¸ªå‚æ•°ï¼š
 *  - target ï¼š å¯¹äºé™æ€æˆå‘˜æ¥è¯´ æŒ‡çš„æ˜¯ç±»çš„æ„é€ å‡½æ•°ã€‚ å¯¹äºå®ä¾‹æˆå‘˜æ¥è¯´ æŒ‡çš„æ˜¯ç±»çš„åŸå‹å¯¹è±¡
 *  - targetKey : æˆå‘˜åç§°
 *  - parameterIndex : å‚æ•°åœ¨å‡½æ•°å‚æ•°ä¸­çš„ç´¢å¼•
*/</span>

<span class="token keyword">function</span> <span class="token function">I</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token punctuation">:</span><span class="token keyword">any</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>parameterIndex<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸï¼š'</span><span class="token punctuation">,</span>parameterIndex<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">J</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">;</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setName</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span> @<span class="token function">I</span><span class="token punctuation">(</span><span class="token punctuation">)</span> key<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">J</span><span class="token punctuation">(</span><span class="token string">'kaka'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment" spellcheck="true">//</span>

<span class="token keyword">import</span> <span class="token string">'reflect-metadata'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> requiredKey <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token string">"required:key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//å®šåˆ¶ä¸€ä¸ªå‚æ•°è£…é¥°å™¨</span>
<span class="token keyword">var</span> required <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å‚æ•°è£…é¥°å™¨1'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token punctuation">:</span><span class="token keyword">any</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>index<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å‚æ•°è£…é¥°å™¨2'</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> rules <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span>requiredKey<span class="token punctuation">,</span>target<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        rules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// console.log(rules,'---')</span>
        Reflect<span class="token punctuation">.</span><span class="token function">defineMetadata</span><span class="token punctuation">(</span>requiredKey<span class="token punctuation">,</span>rules<span class="token punctuation">,</span>target<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> validateEmptyStr <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–¹æ³•è£…é¥°å™¨1'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token punctuation">:</span><span class="token keyword">any</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>descriptor<span class="token punctuation">:</span>PropertyDescriptor<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> methods <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–¹æ³•è£…é¥°å™¨2'</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> rules <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span>requiredKey<span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true">// console.log(rules)</span>
        descriptor<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// console.log(args,'args')</span>
            <span class="token keyword">let</span> rules <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span>requiredKey<span class="token punctuation">,</span>target<span class="token punctuation">)</span> as <span class="token keyword">Array</span><span class="token operator">&lt;</span><span class="token keyword">number</span><span class="token operator">></span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>rules <span class="token operator">&amp;&amp;</span> rules<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
                rules<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>args<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                       <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`arguments</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is invalid`</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> methods<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">;</span>
    id<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">;</span>

    <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>id<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    @<span class="token function">validateEmptyStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">setName</span><span class="token punctuation">(</span>@<span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'kaka'</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
u<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'hudie'</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true">/**
 * å…ƒæ•°æ®åå°„
 * åå°„å°±æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€è·å–ä¸€ä¸ªå¯¹è±¡çš„ä¸€åˆ‡ä¿¡æ¯ï¼šå±æ€§ã€æ–¹æ³•ç­‰ã€‚å…¶ç‰¹ç‚¹åœ¨äºåŠ¨æ€ç±»å‹åæ¨å¯¼ã€‚
 * åœ¨Typescriptä¸­å°±æ˜¯åœ¨è®¾è®¡é˜¶æ®µå¯¹å¯¹è±¡æ³¨å…¥å…ƒæ•°æ®ï¼Œåœ¨è¿è¡Œé˜¶æ®µè¯»å–æ³¨å…¥çš„å…ƒæ•°æ®ã€‚
*/</span>

<span class="token keyword">function</span> <span class="token function">meta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token punctuation">:</span><span class="token keyword">any</span><span class="token punctuation">,</span>targetKey<span class="token punctuation">:</span><span class="token keyword">string</span><span class="token punctuation">,</span>descriptor<span class="token punctuation">:</span>PropertyDescriptor<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//è·å–æˆå‘˜ç±»å‹</span>
        <span class="token keyword">let</span> type <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token string">'design:type'</span><span class="token punctuation">,</span>target<span class="token punctuation">,</span>targetKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[Function: Function]</span>
        <span class="token comment" spellcheck="true">//è·å–å‚æ•°ç±»å‹</span>
        <span class="token keyword">let</span> paramsType <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token string">'design:paramtypes'</span><span class="token punctuation">,</span>target<span class="token punctuation">,</span>targetKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>paramsType<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ [Function: String] ]</span>
        <span class="token comment" spellcheck="true">//è·å–è¿”å›å€¼ç±»å‹</span>
        <span class="token keyword">let</span> returnType <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadata</span><span class="token punctuation">(</span><span class="token string">'design:returntype'</span><span class="token punctuation">,</span>target<span class="token punctuation">,</span>targetKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnType<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[Function: String]</span>
        <span class="token comment" spellcheck="true">//è·å–æ‰€ä»¥å…ƒæ•°æ®çš„keyï¼ˆæœ‰TypeScriptæ³¨å…¥ï¼‰</span>
        <span class="token keyword">let</span> keys <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">getMetadataKeys</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>targetKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ 'design:returntype', 'design:paramtypes', 'design:type' ]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    @<span class="token function">meta</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    say <span class="token punctuation">(</span>myName<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">string</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>myName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<h4 id="å¼•å…¥å’Œç¼–è¯‘"><a href="#å¼•å…¥å’Œç¼–è¯‘" class="headerlink" title="å¼•å…¥å’Œç¼–è¯‘"></a>å¼•å…¥å’Œç¼–è¯‘</h4><h5 id="å¿«é€Ÿä½¿ç”¨"><a href="#å¿«é€Ÿä½¿ç”¨" class="headerlink" title="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨</h5><pre class=" language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">//å®‰è£…</span>
yarn add typescript 
<span class="token comment" spellcheck="true">//ç¼–è¯‘</span>
tsc index<span class="token punctuation">.</span>ts</code></pre>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ts-nodeè¿›è¡Œå¿«é€Ÿè¿è¡Œï¼š</p>
<pre class=" language-typescript"><code class="language-typescript"><span class="token comment" spellcheck="true">//å®‰è£…</span>
yarn add ts<span class="token operator">-</span>node <span class="token operator">-</span>g
<span class="token comment" spellcheck="true">//æ‰§è¡Œ</span>
ts<span class="token operator">-</span>node index<span class="token punctuation">.</span>ts</code></pre>
<h5 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h5><p><code>tsconfig.json</code> æ˜¯ TypeScript çš„ç¼–è¯‘é€‰é¡¹æ–‡ä»¶ï¼Œé€šè¿‡é…ç½®å®ƒæ¥å®šåˆ¶ TypeScript çš„ç¼–è¯‘ç»†èŠ‚ã€‚</p>
<ul>
<li>ç›´æ¥è°ƒç”¨ <code>tsc</code>ï¼Œç¼–è¯‘å™¨ä¼šä»å½“å‰ç›®å½•å¼€å§‹å»æŸ¥æ‰¾ <code>tsconfig.json</code> æ–‡ä»¶ï¼Œé€çº§å‘ä¸Šæœç´¢çˆ¶ç›®å½•ã€‚</li>
<li>è°ƒç”¨ <code>tsc -p</code>ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ…å« <code>tsconfig.json</code>æ–‡ä»¶çš„ç›®å½•è¿›è¡Œç¼–è¯‘ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ° <code>tsconfig.json</code> æ–‡ä»¶ï¼Œ<code>TypeScript</code> ä¼šç¼–è¯‘æ¯ä¸ªæ–‡ä»¶å¹¶åœ¨å¯¹åº”æ–‡ä»¶çš„åŒçº§ç›®å½•äº§å‡ºã€‚</li>
</ul>
<blockquote>
<p>å¦‚æœä½ è¦ç¼–è¯‘çš„æ˜¯ä¸€ä¸ª Node é¡¹ç›®ï¼Œè¯·å…ˆå®‰è£… Node ç¼–è¯‘ä¾èµ–ï¼š <code>npm i @types/node --save-dev</code>ï¼Œå¦åˆ™ä¼šå‡ºç° Node å†…ç½®æ¨¡å—æ— æ³•æ‰¾åˆ°çš„æƒ…å†µã€‚</p>
</blockquote>
<p>ä¸€ä¸ªtsconfig.jsonçš„æè¿°æ–‡ä»¶ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ç¼–è¯‘é€‰é¡¹</span>
  <span class="token string">"compilerOptions"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// è¾“å‡ºç›®å½•</span>
    <span class="token string">"outDir"</span><span class="token punctuation">:</span> <span class="token string">"./output"</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// æ˜¯å¦åŒ…å«å¯ä»¥ç”¨äº debug çš„ sourceMap</span>
    <span class="token string">"sourceMap"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ä»¥ä¸¥æ ¼æ¨¡å¼è§£æ</span>
    <span class="token string">"strict"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// é‡‡ç”¨çš„æ¨¡å—ç³»ç»Ÿ</span>
    <span class="token string">"module"</span><span class="token punctuation">:</span> <span class="token string">"esnext"</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// å¦‚ä½•å¤„ç†æ¨¡å—</span>
    <span class="token string">"moduleResolution"</span><span class="token punctuation">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ç¼–è¯‘è¾“å‡ºç›®æ ‡ ES ç‰ˆæœ¬</span>
    <span class="token string">"target"</span><span class="token punctuation">:</span> <span class="token string">"es5"</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥</span>
    <span class="token string">"allowSyntheticDefaultImports"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// å°†æ¯ä¸ªæ–‡ä»¶ä½œä¸ºå•ç‹¬çš„æ¨¡å—</span>
    <span class="token string">"isolatedModules"</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// å¯ç”¨è£…é¥°å™¨</span>
    <span class="token string">"experimentalDecorators"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// å¯ç”¨è®¾è®¡ç±»å‹å…ƒæ•°æ®ï¼ˆç”¨äºåå°„ï¼‰</span>
    <span class="token string">"emitDecoratorMetadata"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„anyç±»å‹æ—¶æŠ¥é”™</span>
    <span class="token string">"noImplicitAny"</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ä¸æ˜¯å‡½æ•°çš„æ‰€æœ‰è¿”å›è·¯å¾„éƒ½æœ‰è¿”å›å€¼æ—¶æŠ¥é”™ã€‚</span>
    <span class="token string">"noImplicitReturns"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ä» tslib å¯¼å…¥å¤–éƒ¨å¸®åŠ©åº“: æ¯”å¦‚__extendsï¼Œ__restç­‰</span>
    <span class="token string">"importHelpers"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ç¼–è¯‘è¿‡ç¨‹ä¸­æ‰“å°æ–‡ä»¶å</span>
    <span class="token string">"listFiles"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// ç§»é™¤æ³¨é‡Š</span>
    <span class="token string">"removeComments"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">"suppressImplicitAnyIndexErrors"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// å…è®¸ç¼–è¯‘javascriptæ–‡ä»¶</span>
    <span class="token string">"allowJs"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// è§£æéç›¸å¯¹æ¨¡å—åçš„åŸºå‡†ç›®å½•</span>
    <span class="token string">"baseUrl"</span><span class="token punctuation">:</span> <span class="token string">"./"</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// æŒ‡å®šç‰¹æ®Šæ¨¡å—çš„è·¯å¾„</span>
    <span class="token string">"paths"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">"jquery"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">"node_modules/jquery/dist/jquery"</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">// typescript è¯­æ³•æ£€æµ‹æ”¯æŒçš„ç‰ˆæœ¬åº“ï¼Œæ³¨æ„ä¸æ˜¯ polyfillï¼åªæ˜¯ä¸ºäº†æœ‰å¯¹åº”ç‰ˆæœ¬çš„ä»£ç ç‰¹æ€§æç¤ºï¼</span>
    <span class="token string">"lib"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">"es2015"</span><span class="token punctuation">,</span>
      <span class="token string">"es2015.promise"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å®Œæ•´ <code>tsconfig</code> é…ç½®é€‰é¡¹çš„å¯ä»¥å‚è€ƒ <a href="https://tasaid.com/link?url=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Fcompiler-options.html" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼Œæˆ–è€… tsconfig çš„ <a href="https://tasaid.com/link?url=http%3A%2F%2Fjson.schemastore.org%2Ftsconfig" target="_blank" rel="noopener">json-schema</a>ã€‚</p>
<p>æ³¨æ„ï¼š TypeScript ä¸ä¼šåš <code>Polyfill</code>ï¼Œä¾‹å¦‚ä» <code>es6</code> ç¼–è¯‘åˆ° <code>es5</code>ï¼ŒTypeScript ç¼–è¯‘åä¸ä¼šå¤„ç† <code>es6</code> çš„é‚£äº›æ–°å¢çš„å¯¹è±¡çš„æ–¹æ³•ï¼Œå¦‚æœéœ€è¦ <code>polyfill</code> éœ€è¦è‡ªè¡Œå¤„ç†ï¼<br>å®Œæ•´çš„ç¼–è¯‘é€‰é¡¹è¯·å‚é˜… <a href="https://tasaid.com/link?url=https%3A%2F%2Ftslang.cn%2Fdocs%2Fhandbook%2Fcompiler-options.html" target="_blank" rel="noopener">TypeScript ä¸­æ–‡ç½‘</a> å’Œ <a href="https://tasaid.com/link?url=http%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Fcompiler-options.html" target="_blank" rel="noopener">TypeScript å®˜ç½‘</a>ã€‚</p>
<h5 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h5><p>å…³äºç¼–è¯‘ï¼Œä¸ªäººæ¯”è¾ƒå€¾å‘äºä½¿ç”¨<a href="https://www.gulpjs.com.cn/docs/getting-started/quick-start/" target="_blank" rel="noopener">Gulp</a>ã€‚è¿™é‡Œç»™å‡ºæˆ‘çš„ä¸ªäººé…ç½®ã€‚<br>gulpfile.js:</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span>dest<span class="token punctuation">,</span>watch<span class="token punctuation">,</span>series<span class="token punctuation">,</span>task <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'del'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ts <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-typescript'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tsProject <span class="token operator">=</span> ts<span class="token punctuation">.</span><span class="token function">createProject</span><span class="token punctuation">(</span><span class="token string">"tsconfig.json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">clean</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dist'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cb<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'src/**/*.ts'</span><span class="token punctuation">,</span><span class="token punctuation">{</span> events<span class="token punctuation">:</span><span class="token string">'all'</span><span class="token punctuation">,</span>delay<span class="token punctuation">:</span><span class="token number">500</span><span class="token punctuation">,</span>ignoreInitial<span class="token punctuation">:</span><span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'src/**/*.ts'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">tsProject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


exports<span class="token punctuation">.</span><span class="token keyword">default</span> <span class="token operator">=</span>  <span class="token function">series</span><span class="token punctuation">(</span>clean<span class="token punctuation">,</span>build<span class="token punctuation">)</span></code></pre>
<p>æ‰§è¡Œ<code>npx gulp</code>å³å¯å°†srcä¸‹çš„tsæ–‡ä»¶ç¼–è¯‘åˆ°distç›®å½•ä¸‹ã€‚</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
        <div class="declare">
          <ul class="post-copyright">
            <li>
              <i class="ri-copyright-line"></i>
              <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
              æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œè‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
            </li>
          </ul>
        </div>
        
    <footer class="article-footer">
      
          
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        åˆ†äº«
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" target="_blank" rel="noopener" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" target="_blank" rel="noopener" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" target="_blank" rel="noopener" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" target="_blank" rel="noopener" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" target="_blank" rel="noopener" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" target="_blank" rel="noopener" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" target="_blank" rel="noopener" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" target="_blank" rel="noopener" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;" target="_blank" rel="noopener"><i class="ri-close-circle-line"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://yangkunxiao.cn/2020/05/13/TypeScript/01/" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
    </div>
</div>

<div id="share-mask"></div>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>


    </footer>

  </div>

  
  
  <nav class="article-nav">
    
      <a href="/2020/05/20/TypeScript/02/" class="article-nav-link">
        <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
        <div class="article-nav-title">
          
            TypeScript(äºŒ):ä½¿ç”¨TypeScriptæ”¹è¿›Expressè·¯ç”±
          
        </div>
      </a>
    
    
      <a href="/2020/04/11/Vue/Vue%E5%90%8C%E6%9E%84/" class="article-nav-link">
        <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
        <div class="article-nav-title">VueåŒæ„</div>
      </a>
    
  </nav>


  

  
  
<!-- valineè¯„è®º -->
<div id="vcomments-box">
    <div id="vcomments">
    </div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#vcomments',
        app_id: '',
        app_key: '',
        path: window.location.pathname,
        notify: 'false',
        verify: 'false',
        avatar: 'monsterid',
        placeholder: 'ç»™æˆ‘çš„æ–‡ç« åŠ ç‚¹è¯„è®ºå§~',
        recordIP: true
    });
    const infoEle = document.querySelector('#vcomments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
        infoEle.childNodes.forEach(function (item) {
            item.parentNode.removeChild(item);
        });
    }
</script>
<style>
    #vcomments-box {
        padding: 5px 30px;
    }

    @media screen and (max-width: 800px) {
        #vcomments-box {
            padding: 5px 0px;
        }
    }

    #vcomments-box #vcomments {
        background-color: #fff;
    }

    .v .vlist .vcard .vh {
        padding-right: 20px;
    }

    .v .vlist .vcard {
        padding-left: 10px;
    }
</style>

  

  
  
  

</article>
</section>
      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2019-2020
        Walter
      </li>
      <li>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
      </li>
      
      <li>
        <a href="http://www.beian.miit.gov.cn/" target="_black">è±«ICPå¤‡17047806å·</a>
      </li>
      
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/logo.png" alt="Walter"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="æœç´¢">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i></p>
  <div class="reward-box">
    
    
  </div>
</div>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>



<script src="/js/tocbot.min.js"></script>
<script>
  // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>



<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>
<script src="/dist/main.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>





<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>


    
  </div>
</body>

</html>